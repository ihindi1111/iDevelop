{% extends 'base.html' %}
{% load static %}

{% block title %}Dashboard - iDevelop{% endblock %}

{% block content %}
<div class="container">
    <link rel="stylesheet" href="{% static 'css/collab.css' %}" type="text/css">
    <main class="main-content">
        <h1>Welcome to {{curr_page_username}}'s Collab Box!</h1>
        <label for="id_collab_box">Collaborate With Your Friends:</label>
        <textarea id="id_collab_box" name="content" rows="20" cols="50" data-readonly="{{ read_only|yesno:'true,false' }}"></textarea>
        <span id="error" class="error"></span>
        <div id="message" class="sub-title">Connecting to WebSocket</div>
    </main>
    <!-- Sidebar
    <div id="sidebar" class="resizable-sidebar">
        <h2></h2>
        <textarea id="sidebar_textbox" name="sidebar_content" rows="20" cols="30"></textarea>
    </div> -->

    <script src = "{% static 'js/idevelop.js' %}" type = "text/javascript"></script>
    <script>
        const read_only = "{{ read_only }}";
        const myUserID = "{{ user_id }}";
        window.onload = function () {
            console.log("collabBoxID:", collabBoxID);  
        };
        const collabBoxID = "{{ collab_box_id }}";
        const ownercollabBoxID = "{{ owner_collab_box_id }}";
        // const editorsSet = "{{ editors_set }}";
        // const hadToCreate = "{{ hadToCreate }}";
        window.onload = connectToServer;
        // adjusting_sms_box()
    </script>
</div>
{% endblock %}